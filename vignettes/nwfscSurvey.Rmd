---
title: "nwfscSurvey"
author: "Chantel Wetzel"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{nwfscSurvye}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Introduction

The **nwfscSurvey** package was written by scientists at the Northwest Fisheries Science Center (NWFSC) to explore and process survey composition data for use in assessments.  The package can be used for the NWFSC shelf-slope survey, the NWFSC slope survey, the AFSC slope survey, and the Triennial survey.

## Use

The **nwfscSurvey** can be used to create:

* Calculate the design based indices based upon pre-specified stratification.

* Create length composition data expanded by the design-based indices for use in Stock Synthesis.

* Create age-composition data expanded by the design-based indices for use in Stock Synthesis.

* Create conditional age-at-length compostion data for used in Stock Synthesis

* Create plots to visualize the data; design-based index plots, bubble plots of length and age data, sex ratio. 

## Functions

A list of all functions in the packages can be viewed by:

```r
ls("package:nwfscSurvey")
```

## Examples

### NWFSC shelf-slope bottom trawl survey

Calculate the design based index of abundance:

```r
bioSS = GetTotalBiomassExcel.fn(file = "Survey data file.xlsx", headerRow =7, fleet="EnterFleet", season=1, outputMedian=T)
```

The function will create a table of results by year:
```{r, results = 'asis', echo = FALSE}
  library(xtable)
  library(kableExtra)

  tab = rbind( c(2003, 1, "EnterFleet", 21055083, 0.357),
               c("...", "", "", "", ""),
               c(2015, 1, "EnterFleet", 9766200, 0.563))
  
  colnames(tab) = c("Year", "Season", "Fleet", "Value", "seLogB")
  
  table = tab 
  kable(table, "html")
```


